Traceback (most recent call last):
  File "/home/john/anaconda3/envs/bcd/lib/python3.10/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/home/john/anaconda3/envs/bcd/lib/python3.10/site-packages/nbclient/client.py", line 1204, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/home/john/anaconda3/envs/bcd/lib/python3.10/site-packages/nbclient/util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/home/john/anaconda3/envs/bcd/lib/python3.10/site-packages/nbclient/util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "/home/john/anaconda3/envs/bcd/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/home/john/anaconda3/envs/bcd/lib/python3.10/site-packages/nbclient/client.py", line 663, in async_execute
    await self.async_execute_cell(
  File "/home/john/anaconda3/envs/bcd/lib/python3.10/site-packages/nbclient/client.py", line 965, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/home/john/anaconda3/envs/bcd/lib/python3.10/site-packages/nbclient/client.py", line 862, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
import os
import os
if 'jbook' in os.getcwd():
    os.chdir(os.path.abspath(os.path.join("../../../..")))

import numpy as np
import cv2
import matplotlib.pyplot as plt
from myst_nb import glue

from bcd.preprocess.image.analysis.threshold import (
    ThresholdLi, ThresholdISOData, ThresholdTriangle, ThresholdOTSU, ThresholdAdaptiveMean, ThresholdAdaptiveGaussian, TryAllThresholds, ThresholdManual
)

img1 = "data/image/1_dev/converted/train/benign/347c2455-cb62-40f8-a173-9e4eb9a21902.png"
img2 = "data/image/1_dev/converted/train/benign/4ed91643-1e06-4b2c-8efb-bc60dd9e0313.png"
img3 = "data/image/1_dev/converted/train/malignant/7dcc12fd-88f0-4048-a6ab-5dd0bd836f08.png"
img4 = "data/image/1_dev/converted/train/malignant/596ef5db-9610-4f13-9c1a-4c411b1d957c.png"

img1 = cv2.imread(img1, cv2.IMREAD_GRAYSCALE)
img2 = cv2.imread(img2, cv2.IMREAD_GRAYSCALE)
img3 = cv2.imread(img3, cv2.IMREAD_GRAYSCALE)
img4 = cv2.imread(img4, cv2.IMREAD_GRAYSCALE)

images = (img1,img2,img3,img4)

analysis = ThresholdManual(threshold=10)
fig = analysis.analyze(images=images)

glue("threshold_manual_10", fig)
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mTypeError[0m                                 Traceback (most recent call last)
Cell [0;32mIn[1], line 28[0m
[1;32m     25[0m images [38;5;241m=[39m (img1,img2,img3,img4)
[1;32m     27[0m analysis [38;5;241m=[39m ThresholdManual(threshold[38;5;241m=[39m[38;5;241m10[39m)
[0;32m---> 28[0m fig [38;5;241m=[39m [43manalysis[49m[38;5;241;43m.[39;49m[43manalyze[49m[43m([49m[43mimages[49m[38;5;241;43m=[39;49m[43mimages[49m[43m)[49m
[1;32m     30[0m glue([38;5;124m"[39m[38;5;124mthreshold_manual_10[39m[38;5;124m"[39m, fig)

File [0;32m~/projects/bcd/bcd/preprocess/image/analysis/threshold.py:86[0m, in [0;36mThresholdAnalyzer.analyze[0;34m(self, images)[0m
[1;32m     83[0m [38;5;28mself[39m[38;5;241m.[39m_images [38;5;241m=[39m images
[1;32m     85[0m [38;5;28mself[39m[38;5;241m.[39m_compare_thresholds(images[38;5;241m=[39mimages)
[0;32m---> 86[0m fig [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_build_analysis_plot[49m[43m([49m[43m)[49m
[1;32m     87[0m [38;5;28;01mreturn[39;00m fig

File [0;32m~/projects/bcd/bcd/preprocess/image/analysis/threshold.py:114[0m, in [0;36mThresholdAnalyzer._build_analysis_plot[0;34m(self)[0m
[1;32m    110[0m height [38;5;241m=[39m nrows [38;5;241m*[39m [38;5;28mself[39m[38;5;241m.[39m__ROWHEIGHT
[1;32m    112[0m fig, axes [38;5;241m=[39m plt[38;5;241m.[39msubplots(nrows[38;5;241m=[39mnrows, ncols[38;5;241m=[39mncols, figsize[38;5;241m=[39m([38;5;241m12[39m, height))
[1;32m    113[0m labels [38;5;241m=[39m np[38;5;241m.[39marray(
[0;32m--> 114[0m     [43m[[49m[38;5;124;43m"[39;49m[38;5;124;43ma[39;49m[38;5;124;43m"[39;49m[43m,[49m[43m [49m[38;5;124;43m"[39;49m[38;5;124;43mb[39;49m[38;5;124;43m"[39;49m[43m,[49m[43m [49m[38;5;124;43m"[39;49m[38;5;124;43mc[39;49m[38;5;124;43m"[39;49m[43m,[49m[43m [49m[38;5;124;43m"[39;49m[38;5;124;43md[39;49m[38;5;124;43m"[39;49m[43m][49m[43m[[49m[38;5;124;43m"[39;49m[38;5;124;43me[39;49m[38;5;124;43m"[39;49m[43m,[49m[43m [49m[38;5;124;43m"[39;49m[38;5;124;43mf[39;49m[38;5;124;43m"[39;49m[43m,[49m[43m [49m[38;5;124;43m"[39;49m[38;5;124;43mg[39;49m[38;5;124;43m"[39;49m[43m,[49m[43m [49m[38;5;124;43m"[39;49m[38;5;124;43mh[39;49m[38;5;124;43m"[39;49m[43m][49m, [[38;5;124m"[39m[38;5;124mi[39m[38;5;124m"[39m, [38;5;124m"[39m[38;5;124mj[39m[38;5;124m"[39m, [38;5;124m"[39m[38;5;124mk[39m[38;5;124m"[39m, [38;5;124m"[39m[38;5;124ml[39m[38;5;124m"[39m]
[1;32m    115[0m )
[1;32m    117[0m [38;5;66;03m# Plot images[39;00m
[1;32m    118[0m [38;5;28;01mfor[39;00m i, img [38;5;129;01min[39;00m [38;5;28menumerate[39m([38;5;28mself[39m[38;5;241m.[39m_images):

[0;31mTypeError[0m: list indices must be integers or slices, not tuple
TypeError: list indices must be integers or slices, not tuple

